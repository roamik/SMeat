<div class="containerEdit">

  <div *ngIf="currentUserId == id" class="onoffswitch center-block">
    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch">
    <label class="onoffswitch-label" for="myonoffswitch">
      <span class="onoffswitch-inner"></span>
      <span class="onoffswitch-switch"></span>
    </label>
  </div>

  <div id="profileBody" class="row">

    <div class="col-md-4 col-md-push-4">
      <p class="text-center txtFieldText textOutline">{{user.name}} {{user.lastName}}</p>

      <img *ngIf="user.pictureUrl" id="profilePic" class="center" src="{{user.pictureUrl}}" alt="Picture">
      <img *ngIf="!user.pictureUrl" id="profilePic" class="center" src="https://upload.wikimedia.org/wikipedia/commons/a/ad/Placeholder_no_text.svg" alt="Picture">

      <button *ngIf="currentUserId == id" id="avatarChange" class="btn btn_custom center-block" (click)="imageModal.open()">+</button>

      <p id="statusP" class="text-center txtFieldText textOutline" contenteditable="true" (blur)="UpdateStatus()" *ngIf="isUsersPage()">{{ this.user.status || 'Status' }}</p>
      <p class="text-center txtFieldText textOutline" *ngIf="!isUsersPage()">{{ this.user.status }}</p>

      <button *ngIf="!isUsersPage()" class="btn btn_custom center-block" (click)="startChat()">Chat</button>
      <button *ngIf="!isUsersPage() && !isFriend && !inRequest" class="btn btn_custom center-block" (click)="addContact(id)">Add</button>
      <button *ngIf="!isUsersPage() && inRequest && !isFriend" class="btn btn_custom center-block" disabled>{{'BTN_IN_REQUEST_TEXT' | translate}}</button>
      <button *ngIf="!isUsersPage() && isFriend && !inRequest" class="btn btn_custom center-block" (click)="removeContact(id)">Remove</button>
    </div>

    <div class="col-md-4 col-md-pull-4 sideBar">
      <p class="txtField">
        <span class="txtFieldText textOutline">Gender: </span>
        <span>{{user.gender===1 ? user.customGender: genders[user.gender]  | translate}}</span>
      </p>
      <p class="txtField"><span class="txtFieldText textOutline">{{'ABOUT_TEXT' | translate}}:<br /> </span>{{user.about}}</p>
    </div>

    <div class="col-md-4 sideBar">
      <p class="txtField"><span class="txtFieldText textOutline">{{'RELATIONSHIP_TEXT' | translate}}: </span>{{relations[user.relationship] | translate}}</p>
      <p class="txtField"><span class="txtFieldText textOutline">{{'LOCATION_TEXT' | translate}}: </span><span *ngIf="user.location">{{user.location.country}}, {{user.location.city}}{{user.location.street?',':''}} {{user.location.street}}</span></p>
      <p class="txtField"><span class="txtFieldText textOutline">{{'WORKPLACE_TEXT' | translate}}: </span><span *ngIf="user.workplace">{{user.workplace.companyName}}</span></p>
    </div>
  </div>

  <hr>

  <div id="boardList">
    <app-board-view *ngFor="let board of boards" [board]="board" [curUserId]="this.currentUserId"></app-board-view>
  </div>
</div>

<image-modal #imageModal (change)="onImageLoaded($event)" [userId]="id"></image-modal>
